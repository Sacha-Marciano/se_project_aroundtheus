!function(){"use strict";class e{constructor(e,t){this._formSelector=e.formSelector,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._form=t,this._inputList=Array.from(this._form.querySelectorAll(this._inputSelector)),this._buttonSubmit=this._form.querySelector(this._submitButtonSelector)}_setEventsListeners(){this._form.addEventListener("submit",(e=>{e.preventDefault()})),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(this._form,e,this._inputErrorClass,this._errorClass),this._toggleButtonState(this._inputList,this._buttonSubmit,this._inactiveButtonClass)}))}))}_toggleButtonState(e,t,s){this._hasInvalidInput(e)?this.disableButton():(t.classList.remove(s),t.disabled=!1)}_hasInvalidInput(e){return e.some((e=>!e.validity.valid))}_checkInputValidity(e,t,s,r){t.validity.valid?this._hideInputError(e,t,s,r):this._showInputError(e,t,t.validationMessage,s,r)}_showInputError(e,t,s,r,i){const n=e.querySelector(`.${t.id}-error`);t.classList.add(r),n.textContent=s,n.classList.add(i)}_hideInputError(e,t,s,r){const i=e.querySelector(`.${t.id}-error`);t.classList.remove(s),i.classList.remove(r),i.textContent=""}enableValidation(){this.disableButton(),this._setEventsListeners()}disableButton(){this._buttonSubmit.classList.add(this._inactiveButtonClass),this._buttonSubmit.disabled=!0}}class t{constructor(e,t,s,r,i){this._name=e.name,this._link=e.link,this.id=e._id,this.isLiked=e.isLiked,this._template=t,this._handleImageClick=s,this._newCard=document.querySelector(this._template).content.querySelector(".card").cloneNode(!0),this._handleDeleteClick=r,this._toggleServerLike=i}renderCard(){return this._cardImageElement=this._newCard.querySelector(".card__image"),this._cardNameElement=this._newCard.querySelector(".card__name"),this._cardLikeElement=this._newCard.querySelector(".card__like-button"),this._cardTrashElement=this._newCard.querySelector(".card__delete-button"),this._cardImageElement.alt=this._name,this._cardImageElement.src=this._link,this._cardNameElement.textContent=this._name,this._setEventListeners(),this.toggleLike(),this._newCard}_setEventListeners(){this._cardImageElement.addEventListener("click",(()=>{this._handleImageClick(this)})),this._cardLikeElement.addEventListener("click",(e=>{e.stopPropagation(),this._toggleServerLike(this)})),this._cardTrashElement.addEventListener("click",(e=>{e.stopPropagation(),this._handleDeleteClick(this)}))}toggleLike(){this.isLiked?this._cardLikeElement.classList.add("card__like-button_liked"):this._cardLikeElement.classList.remove("card__like-button_liked")}deleteCard(){this._newCard.remove()}}class s{constructor(e){this._popup=document.querySelector(e),this._closeButton=this._popup.querySelector(".modal__button_type_close"),this._handleEscClose=this._handleEscClose.bind(this)}open(){this._popup.classList.add("modal_opened"),document.addEventListener("keyup",this._handleEscClose)}close(){this._popup.classList.remove("modal_opened"),document.removeEventListener("keyup",this._handleEscClose)}_handleEscClose(e){"Escape"===e.key&&this.close()}setEventListeners(){this._closeButton.addEventListener("click",(()=>{this.close()})),this._popup.addEventListener("mousedown",(e=>{e.target===this._popup&&this.close()}))}}class r extends s{constructor(e,t){super(e),this.form=this._popup.querySelector(".modal__container"),this._handleFormSubmit=t,this._inputs=this.form.querySelectorAll(".modal__input"),this._submitButton=this.form.querySelector(".modal__button_type_submit"),this._originalText=this._submitButton.textContent}_getInputValues(){const e={};return this._inputs.forEach((t=>{e[t.name]=t.value})),e}setEventListeners(){this.form.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues(),this._submitButton)})),super.setEventListeners()}renderLoading(e){this._submitButton.textContent=e?"Saving...":this._originalText}}const i={formSelector:".modal__container",inputSelector:".modal__input",submitButtonSelector:".modal__button_type_submit",inactiveButtonClass:"modal__button_inactive",inputErrorClass:"modal__input_type_error",errorClass:"modal__input-error"},n=new class{constructor(e){let{baseURL:t,headers:s}=e;this._baseURL=t,this._headers=s}getCurrentUser(){return this._request(`${this._baseURL}/users/me`,{method:"GET",headers:this._headers})}updateCurrentUser(e){return this._request(`${this._baseURL}/users/me`,{method:"PATCH",headers:this._headers,body:e})}updateCurrentAvatar(e){return this._request(`${this._baseURL}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:e})}getAllCards(){return this._request(`${this._baseURL}/cards`,{method:"GET",headers:this._headers})}postCard(e){return this._request(`${this._baseURL}/cards`,{method:"POST",headers:this._headers,body:e})}deleteCard(e){return this._request(`${this._baseURL}/cards/${e}`,{method:"DELETE",headers:this._headers})}putLike(e){return this._request(`${this._baseURL}/cards/${e}/likes`,{method:"PUT",headers:this._headers})}deleteLike(e){return this._request(`${this._baseURL}/cards/${e}/likes`,{method:"DELETE",headers:this._headers})}_request(e,t){return fetch(e,t).then(this._checkResponse)}_checkResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}getInitialData(){return Promise.all([this.getCurrentUser(),this.getAllCards()])}}({baseURL:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"a50cd7e6-b371-411e-bfcd-861efcd7c545","Content-Type":"application/json"}}),a=document.querySelector(".profile__button_type_edit"),o=document.querySelector(".profile__button_type_add"),d=document.querySelector(".image__container"),l=new class{constructor(e,t){let{renderer:s}=e;this._container=document.querySelector(t),this._renderer=s}renderItems(e){return this._renderer(e)}addItem(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"append";this._container[t](e)}}({renderer:function(e){return new t(e,"#card__template",g,E,S).renderCard()}},".cards__list"),h=new class{constructor(e){let{nameSelector:t,descriptionSelector:s,avatarSelector:r}=e;this._name=document.querySelector(t),this._description=document.querySelector(s),this._avatar=document.querySelector(r)}getUserInfo(){return{name:this._name.textContent,about:this._description.textContent,avatar:this._avatar}}setUserInfo(e){this._name.textContent=e.name,this._description.textContent=e.about,this._avatar.src=e.avatar}}({nameSelector:".profile__name",descriptionSelector:".profile__description",avatarSelector:".profile__image"}),c=new class extends s{constructor(e){super(e),this._image=this._popup.querySelector(".modal__image"),this._modalTitle=this._popup.querySelector(".modal__image-title")}open(e){this._image.src=e._link,this._image.alt=e._name,this._modalTitle.textContent=e._name,super.open()}}("#image-modal-id"),_=new r("#edit-modal-id",(function(e){_.renderLoading(!0),n.updateCurrentUser(JSON.stringify({name:e.name,about:e.about})).then((e=>{h.setUserInfo(e),_.close(),L.disableButton()})).catch((e=>{console.log(e)})).finally((()=>{_.renderLoading(!1)}))})),u=new r("#add-modal-id",(function(e){u.renderLoading(!0),n.postCard(JSON.stringify({name:e.name,link:e.link})).then((e=>{l.addItem(l.renderItems(e),"prepend"),u.close(),u.form.reset(),v.disableButton()})).catch((e=>{console.log(e)})).finally((()=>{_.renderLoading(!1)}))})),m=new r("#avatar-modal-id",(function(e){m.renderLoading(!0),n.updateCurrentAvatar(JSON.stringify({avatar:e.link})).then((e=>{h.setUserInfo(e),m.close(),m.form.reset()})).catch((e=>{console.log(e)})).finally((()=>{m.renderLoading(!1)}))})),p=new class extends s{constructor(e,t){super(e),this.form=this._popup.querySelector(".modal__container"),this._handleFormSubmit=t}getCardInfo(e){this._card=e}setEventListeners(){this.form.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._card)})),super.setEventListeners()}}("#delete-modal-id",(function(e){n.deleteCard(e.id).then((()=>{e.deleteCard(),p.close()})).catch((e=>{console.log(e)}))})),L=new e(i,_.form),v=new e(i,u.form),b=new e(i,m.form);function g(e){c.open(e)}function E(e){p.getCardInfo(e),p.open()}function S(e){e.isLiked?n.deleteLike(e.id).then((()=>{e.isLiked=!e.isLiked,e.toggleLike()})).catch((e=>{console.log(e)})):n.putLike(e.id).then((()=>{e.isLiked=!e.isLiked,e.toggleLike()})).catch((e=>{console.log(e)}))}n.getInitialData().then((e=>{let[t,s]=e;h.setUserInfo(t),s.forEach((e=>{l.addItem(l.renderItems(e))}))})).catch((e=>{console.log(e)})),L.enableValidation(),v.enableValidation(),b.enableValidation(),a.addEventListener("click",(()=>{var e;e=h.getUserInfo(),_.form.querySelector("#name-id").value=e.name,_.form.querySelector("#aboutMe-id").value=e.about,_.open()})),d.addEventListener("click",(()=>{m.open()})),o.addEventListener("click",(()=>u.open())),c.setEventListeners(),_.setEventListeners(),u.setEventListeners(),p.setEventListeners(),m.setEventListeners()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S25CLElBQThCLElBQTVCOEUsRUFBYUMsR0FBVS9FLEVBQzdCNkMsRUFBU1MsWUFBWXdCLEdBQ3JCQyxFQUFVaEssU0FBU3dILElBQ2pCTixFQUFZTyxRQUFRUCxFQUFZSyxZQUFZQyxHQUFNLEdBQ2xELElBRUh3QixPQUFPQyxJQUNOQyxRQUFRQyxJQUFJRixFQUFJLElBSXBCRixFQUFrQnhILG1CQUNsQmdJLEVBQWlCaEksbUJBQ2pCdUksRUFBb0J2SSxtQkFHcEJ3RixFQUFXbEgsaUJBQWlCLFNBQVMsS0ExQnJDLElBQTJCK0ksSUEyQlBkLEVBQVNNLGNBMUIzQk8sRUFBVXBLLEtBQUtvQixjQUFjLFlBQVlpRixNQUFRZ0UsRUFBSTdHLEtBQ3JENEcsRUFBVXBLLEtBQUtvQixjQUFjLGVBQWVpRixNQUFRZ0UsRUFBSVAsTUEwQnhETSxFQUFVOUUsTUFBTSxJQUVsQm9ELEVBQVdwSCxpQkFBaUIsU0FBUyxLQUNuQzJKLEVBQVkzRixNQUFNLElBRXBCbUQsRUFBVW5ILGlCQUFpQixTQUFTLElBQU13SixFQUFTeEYsU0FDbkQyRSxFQUFXdkUsb0JBQ1gwRSxFQUFVMUUsb0JBQ1ZvRixFQUFTcEYsb0JBQ1R3RixFQUFZeEYsb0JBQ1p1RixFQUFZdkYsbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL3V0aWxzL0FwaS5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Qb3B1cERlbGV0ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgZm9ybSkge1xyXG4gICAgdGhpcy5fZm9ybVNlbGVjdG9yID0gc2V0dGluZ3MuZm9ybVNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IHNldHRpbmdzLmlucHV0U2VsZWN0b3I7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHNldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IHNldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBzZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gc2V0dGluZ3MuZXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Zvcm0gPSBmb3JtO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcclxuICAgICAgdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXHJcbiAgICApO1xyXG4gICAgdGhpcy5fYnV0dG9uU3VibWl0ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudHNMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KFxyXG4gICAgICAgICAgdGhpcy5fZm9ybSxcclxuICAgICAgICAgIGlucHV0RWxlbWVudCxcclxuICAgICAgICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyxcclxuICAgICAgICAgIHRoaXMuX2Vycm9yQ2xhc3NcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKFxyXG4gICAgICAgICAgdGhpcy5faW5wdXRMaXN0LFxyXG4gICAgICAgICAgdGhpcy5fYnV0dG9uU3VibWl0LFxyXG4gICAgICAgICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzc1xyXG4gICAgICAgICk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25TdWJtaXQsIGluYWN0aXZlQnV0dG9uQ2xhc3MpIHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSkge1xyXG4gICAgICB0aGlzLmRpc2FibGVCdXR0b24oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGJ1dHRvblN1Ym1pdC5jbGFzc0xpc3QucmVtb3ZlKGluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICBidXR0b25TdWJtaXQuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9oYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSB7XHJcbiAgICByZXR1cm4gaW5wdXRMaXN0LnNvbWUoKGlucHV0KSA9PiB7XHJcbiAgICAgIHJldHVybiAhaW5wdXQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoZm9ybSwgaW5wdXRFbGVtZW50LCBpbnB1dEVycm9yQ2xhc3MsIGVycm9yQ2xhc3MpIHtcclxuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKFxyXG4gICAgICAgIGZvcm0sXHJcbiAgICAgICAgaW5wdXRFbGVtZW50LFxyXG4gICAgICAgIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSxcclxuICAgICAgICBpbnB1dEVycm9yQ2xhc3MsXHJcbiAgICAgICAgZXJyb3JDbGFzc1xyXG4gICAgICApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoZm9ybSwgaW5wdXRFbGVtZW50LCBpbnB1dEVycm9yQ2xhc3MsIGVycm9yQ2xhc3MpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3Nob3dJbnB1dEVycm9yKFxyXG4gICAgZm9ybSxcclxuICAgIGlucHV0RWxlbWVudCxcclxuICAgIGVycm9yTWVzc2FnZSxcclxuICAgIGlucHV0RXJyb3JDbGFzcyxcclxuICAgIGVycm9yQ2xhc3NcclxuICApIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IGZvcm0ucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQoaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKGVycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX2hpZGVJbnB1dEVycm9yKGZvcm0sIGlucHV0RWxlbWVudCwgaW5wdXRFcnJvckNsYXNzLCBlcnJvckNsYXNzKSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShlcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgfVxyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5kaXNhYmxlQnV0dG9uKCk7XHJcbiAgICB0aGlzLl9zZXRFdmVudHNMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIGRpc2FibGVCdXR0b24oKSB7XHJcbiAgICB0aGlzLl9idXR0b25TdWJtaXQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIHRoaXMuX2J1dHRvblN1Ym1pdC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBGb3JtVmFsaWRhdG9yIH07XHJcbiIsImNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgZGF0YSxcclxuICAgIGNhcmRTZWxlY3RvcixcclxuICAgIGhhbmRsZUltYWdlQ2xpY2ssXHJcbiAgICBoYW5kbGVEZWxldGVDbGljayxcclxuICAgIHRvZ2dsZVNlcnZlckxpa2VcclxuICApIHtcclxuICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xyXG4gICAgdGhpcy5pZCA9IGRhdGEuX2lkO1xyXG4gICAgdGhpcy5pc0xpa2VkID0gZGF0YS5pc0xpa2VkO1xyXG4gICAgdGhpcy5fdGVtcGxhdGUgPSBjYXJkU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrID0gaGFuZGxlSW1hZ2VDbGljaztcclxuICAgIHRoaXMuX25ld0NhcmQgPSBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZSlcclxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljayA9IGhhbmRsZURlbGV0ZUNsaWNrO1xyXG4gICAgdGhpcy5fdG9nZ2xlU2VydmVyTGlrZSA9IHRvZ2dsZVNlcnZlckxpa2U7XHJcbiAgfVxyXG5cclxuICByZW5kZXJDYXJkKCkge1xyXG4gICAgdGhpcy5fY2FyZEltYWdlRWxlbWVudCA9IHRoaXMuX25ld0NhcmQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcclxuICAgIHRoaXMuX2NhcmROYW1lRWxlbWVudCA9IHRoaXMuX25ld0NhcmQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19uYW1lXCIpO1xyXG4gICAgdGhpcy5fY2FyZExpa2VFbGVtZW50ID0gdGhpcy5fbmV3Q2FyZC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpO1xyXG4gICAgdGhpcy5fY2FyZFRyYXNoRWxlbWVudCA9IHRoaXMuX25ld0NhcmQucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIuY2FyZF9fZGVsZXRlLWJ1dHRvblwiXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuX2NhcmRJbWFnZUVsZW1lbnQuYWx0ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZUVsZW1lbnQuc3JjID0gdGhpcy5fbGluaztcclxuICAgIHRoaXMuX2NhcmROYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcblxyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMudG9nZ2xlTGlrZSgpO1xyXG4gICAgcmV0dXJuIHRoaXMuX25ld0NhcmQ7XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sodGhpcyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9jYXJkTGlrZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICB0aGlzLl90b2dnbGVTZXJ2ZXJMaWtlKHRoaXMpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fY2FyZFRyYXNoRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrKHRoaXMpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICB0b2dnbGVMaWtlKCkge1xyXG4gICAgaWYgKHRoaXMuaXNMaWtlZCkge1xyXG4gICAgICB0aGlzLl9jYXJkTGlrZUVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImNhcmRfX2xpa2UtYnV0dG9uX2xpa2VkXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fY2FyZExpa2VFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJjYXJkX19saWtlLWJ1dHRvbl9saWtlZFwiKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGRlbGV0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9uZXdDYXJkLnJlbW92ZSgpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHsgQ2FyZCB9O1xyXG4iLCJjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fY2xvc2VCdXR0b24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19idXR0b25fdHlwZV9jbG9zZVwiKTtcclxuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2Nsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGlmIChldnQudGFyZ2V0ID09PSB0aGlzLl9wb3B1cCkge1xyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBQb3B1cCB9O1xyXG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5jbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY29udGFpbmVyXCIpO1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XHJcbiAgICB0aGlzLl9pbnB1dHMgPSB0aGlzLmZvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9faW5wdXRcIik7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLmZvcm0ucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYnV0dG9uX3R5cGVfc3VibWl0XCIpO1xyXG4gICAgdGhpcy5fb3JpZ2luYWxUZXh0ID0gdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50O1xyXG4gIH1cclxuXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7fTtcclxuICAgIHRoaXMuX2lucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBpbnB1dFZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gaW5wdXRWYWx1ZXM7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSwgdGhpcy5fc3VibWl0QnV0dG9uKTtcclxuICAgIH0pO1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIHJlbmRlckxvYWRpbmcoaXNMb2FkaW5nKSB7XHJcbiAgICBpZiAoaXNMb2FkaW5nKSB7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU2F2aW5nLi4uXCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl9vcmlnaW5hbFRleHQ7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBQb3B1cFdpdGhGb3JtIH07XHJcbiIsImNvbnN0IHVzZXJTZXR0aW5ncyA9IHtcclxuICBuYW1lU2VsZWN0b3I6IFwiLnByb2ZpbGVfX25hbWVcIixcclxuICBkZXNjcmlwdGlvblNlbGVjdG9yOiBcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiLFxyXG4gIGF2YXRhclNlbGVjdG9yOiBcIi5wcm9maWxlX19pbWFnZVwiLFxyXG59O1xyXG5cclxuY29uc3QgdmFsaWRhdGlvblNldHRpbmdzID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogXCIubW9kYWxfX2NvbnRhaW5lclwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fYnV0dG9uX3R5cGVfc3VibWl0XCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fYnV0dG9uX2luYWN0aXZlXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF90eXBlX2Vycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXQtZXJyb3JcIixcclxufTtcclxuXHJcbmV4cG9ydCB7IHZhbGlkYXRpb25TZXR0aW5ncywgdXNlclNldHRpbmdzIH07XHJcbiIsIi8vSW1wb3J0IHN0eWxlc1xyXG5pbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5cclxuLy9JbXBvcnQgY2xhc3Nlcywgc2V0dGluZ3MgYW5kIEFQSVxyXG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgeyBDYXJkIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgeyBTZWN0aW9uIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgeyBVc2VySW5mbyB9IGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCB7IFBvcHVwV2l0aEltYWdlIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IHsgUG9wdXBXaXRoRm9ybSB9IGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IHsgUG9wdXBEZWxldGUgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cERlbGV0ZS5qc1wiO1xyXG5pbXBvcnQgeyB2YWxpZGF0aW9uU2V0dGluZ3MsIHVzZXJTZXR0aW5ncyB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuaW1wb3J0IHsgQXBpIH0gZnJvbSBcIi4uL3V0aWxzL0FwaS5qc1wiO1xyXG5cclxuLy9DcmVhdGUgQVBJXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gIGJhc2VVUkw6IFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjFcIixcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiBcImE1MGNkN2U2LWIzNzEtNDExZS1iZmNkLTg2MWVmY2Q3YzU0NVwiLFxyXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgfSxcclxufSk7XHJcblxyXG4vL1NlbGVjdGluZyBlbGVtZW50c1xyXG5jb25zdCBidXR0b25FZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19idXR0b25fdHlwZV9lZGl0XCIpO1xyXG5jb25zdCBidXR0b25BZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2J1dHRvbl90eXBlX2FkZFwiKTtcclxuY29uc3QgYXZhdGFyRWRpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaW1hZ2VfX2NvbnRhaW5lclwiKTtcclxuXHJcbi8vQ3JlYXRlIHNlY3Rpb25DYXJkIGNsYXNzXHJcbmNvbnN0IHNlY3Rpb25DYXJkID0gbmV3IFNlY3Rpb24oeyByZW5kZXJlcjogY3JlYXRlQ2FyZCB9LCBcIi5jYXJkc19fbGlzdFwiKTtcclxuXHJcbi8vQ3JlYXRlIFVzZXJJbmZvIGNsYXNzXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHVzZXJTZXR0aW5ncyk7XHJcblxyXG4vL0NyZWF0ZSBwb3B1cHMgY2xhc3NlcyBhbmQgc2V0IGV2ZW50IGxpc3RlbmVyc1xyXG5jb25zdCBwb3B1cEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiI2ltYWdlLW1vZGFsLWlkXCIpO1xyXG5jb25zdCBwb3B1cEVkaXQgPSBuZXcgUG9wdXBXaXRoRm9ybShcIiNlZGl0LW1vZGFsLWlkXCIsIGhhbmRsZUVkaXRTdW1iaXQpO1xyXG5jb25zdCBwb3B1cEFkZCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI2FkZC1tb2RhbC1pZFwiLCBoYW5kbGVBZGRTdW1iaXQpO1xyXG5jb25zdCBwb3B1cEF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI2F2YXRhci1tb2RhbC1pZFwiLCBoYW5kbGVBdmF0YXJTdWJtaXQpO1xyXG5jb25zdCBwb3B1cERlbGV0ZSA9IG5ldyBQb3B1cERlbGV0ZShcIiNkZWxldGUtbW9kYWwtaWRcIiwgaGFuZGxlRGVsZXRlU3VibWl0KTtcclxuXHJcbi8vQ3JlYXRlIHZhbGlkYXRvcnNcclxuY29uc3QgZm9ybUVkaXRWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uU2V0dGluZ3MsIHBvcHVwRWRpdC5mb3JtKTtcclxuY29uc3QgZm9ybUFkZFZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25TZXR0aW5ncywgcG9wdXBBZGQuZm9ybSk7XHJcbmNvbnN0IGZvcm1BdmF0YXJWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcclxuICB2YWxpZGF0aW9uU2V0dGluZ3MsXHJcbiAgcG9wdXBBdmF0YXIuZm9ybVxyXG4pO1xyXG5cclxuLy9IYW5kbGVycyBmb3IgY2xhc3Nlc1xyXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGl0ZW0pIHtcclxuICBjb25zdCBjYXJkRWxlbWVudCA9IG5ldyBDYXJkKFxyXG4gICAgaXRlbSxcclxuICAgIFwiI2NhcmRfX3RlbXBsYXRlXCIsXHJcbiAgICBoYW5kbGVJbWFnZUNsaWNrLFxyXG4gICAgaGFuZGxlRGVsZXRlQ2xpY2ssXHJcbiAgICB0b2dnbGVTZXJ2ZXJMaWtlXHJcbiAgKTtcclxuICByZXR1cm4gY2FyZEVsZW1lbnQucmVuZGVyQ2FyZCgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVJbWFnZUNsaWNrKGRhdGEpIHtcclxuICBwb3B1cEltYWdlLm9wZW4oZGF0YSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUVkaXRTdW1iaXQob2JqKSB7XHJcbiAgcG9wdXBFZGl0LnJlbmRlckxvYWRpbmcodHJ1ZSk7XHJcbiAgYXBpXHJcbiAgICAudXBkYXRlQ3VycmVudFVzZXIoXHJcbiAgICAgIEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBvYmoubmFtZSxcclxuICAgICAgICBhYm91dDogb2JqLmFib3V0LFxyXG4gICAgICB9KVxyXG4gICAgKVxyXG4gICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhyZXMpO1xyXG4gICAgICBwb3B1cEVkaXQuY2xvc2UoKTtcclxuICAgICAgZm9ybUVkaXRWYWxpZGF0b3IuZGlzYWJsZUJ1dHRvbigpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9KVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICBwb3B1cEVkaXQucmVuZGVyTG9hZGluZyhmYWxzZSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlQWRkU3VtYml0KG9iaikge1xyXG4gIHBvcHVwQWRkLnJlbmRlckxvYWRpbmcodHJ1ZSk7XHJcbiAgYXBpXHJcbiAgICAucG9zdENhcmQoXHJcbiAgICAgIEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBvYmoubmFtZSxcclxuICAgICAgICBsaW5rOiBvYmoubGluayxcclxuICAgICAgfSlcclxuICAgIClcclxuICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgIHNlY3Rpb25DYXJkLmFkZEl0ZW0oc2VjdGlvbkNhcmQucmVuZGVySXRlbXMoZGF0YSksIFwicHJlcGVuZFwiKTtcclxuICAgICAgcG9wdXBBZGQuY2xvc2UoKTtcclxuICAgICAgcG9wdXBBZGQuZm9ybS5yZXNldCgpO1xyXG4gICAgICBmb3JtQWRkVmFsaWRhdG9yLmRpc2FibGVCdXR0b24oKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfSlcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgcG9wdXBFZGl0LnJlbmRlckxvYWRpbmcoZmFsc2UpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNsaWNrKHRoaXNDYXJkKSB7XHJcbiAgcG9wdXBEZWxldGUuZ2V0Q2FyZEluZm8odGhpc0NhcmQpO1xyXG4gIHBvcHVwRGVsZXRlLm9wZW4oKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlU3VibWl0KHRoaXNDYXJkKSB7XHJcbiAgYXBpXHJcbiAgICAuZGVsZXRlQ2FyZCh0aGlzQ2FyZC5pZClcclxuICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgdGhpc0NhcmQuZGVsZXRlQ2FyZCgpO1xyXG4gICAgICBwb3B1cERlbGV0ZS5jbG9zZSgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlQXZhdGFyU3VibWl0KG9iaikge1xyXG4gIHBvcHVwQXZhdGFyLnJlbmRlckxvYWRpbmcodHJ1ZSk7XHJcbiAgYXBpXHJcbiAgICAudXBkYXRlQ3VycmVudEF2YXRhcihcclxuICAgICAgSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIGF2YXRhcjogb2JqLmxpbmssXHJcbiAgICAgIH0pXHJcbiAgICApXHJcbiAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHJlcyk7XHJcbiAgICAgIHBvcHVwQXZhdGFyLmNsb3NlKCk7XHJcbiAgICAgIHBvcHVwQXZhdGFyLmZvcm0ucmVzZXQoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfSlcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgcG9wdXBBdmF0YXIucmVuZGVyTG9hZGluZyhmYWxzZSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuLy9DaGVjayBzdGF0ZSBvZiBpc0xpa2VkIGluIHRoZSBzZXJ2ZXIgYW5kIHRvZ2dsZSBsaWtlIHN0YXRlIGluIHRoZSBBUElcclxuZnVuY3Rpb24gdG9nZ2xlU2VydmVyTGlrZSh0aGlzQ2FyZCkge1xyXG4gIGlmICghdGhpc0NhcmQuaXNMaWtlZCkge1xyXG4gICAgYXBpXHJcbiAgICAgIC5wdXRMaWtlKHRoaXNDYXJkLmlkKVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgdGhpc0NhcmQuaXNMaWtlZCA9ICF0aGlzQ2FyZC5pc0xpa2VkO1xyXG4gICAgICAgIHRoaXNDYXJkLnRvZ2dsZUxpa2UoKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgYXBpXHJcbiAgICAgIC5kZWxldGVMaWtlKHRoaXNDYXJkLmlkKVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgdGhpc0NhcmQuaXNMaWtlZCA9ICF0aGlzQ2FyZC5pc0xpa2VkO1xyXG4gICAgICAgIHRoaXNDYXJkLnRvZ2dsZUxpa2UoKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbi8vRmlsbHMgZWRpdCBwb3B1cCBpbnB1dHMgYWNjb3JkaW5nIHRvIHByb2ZpbGUgaW5mb1xyXG5mdW5jdGlvbiBmaWxsUHJvZmlsZUlucHV0cyhvYmopIHtcclxuICBwb3B1cEVkaXQuZm9ybS5xdWVyeVNlbGVjdG9yKFwiI25hbWUtaWRcIikudmFsdWUgPSBvYmoubmFtZTtcclxuICBwb3B1cEVkaXQuZm9ybS5xdWVyeVNlbGVjdG9yKFwiI2Fib3V0TWUtaWRcIikudmFsdWUgPSBvYmouYWJvdXQ7XHJcbn1cclxuXHJcbi8vICAgICAgICAgICAgICAgTE9BRElORy9SRUZSRVNIICAgICAgICAgICAgICAgICAgIC8vXHJcblxyXG4vL0NoZWNrIHRoYXQgYm90aCByZXF1ZXN0IGFyZSBmdWxmaWxsZWQsIHRoZW4gYWRkIGluZm8gYW5kIGNhcmRzIGZyb20gQVBJIHRvIGRpc3BsYXlcclxuYXBpXHJcbiAgLmdldEluaXRpYWxEYXRhKClcclxuICAudGhlbigoW3VzZXJQcm9maWxlLCB1c2VyQ2FyZHNdKSA9PiB7XHJcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyh1c2VyUHJvZmlsZSk7XHJcbiAgICB1c2VyQ2FyZHMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICBzZWN0aW9uQ2FyZC5hZGRJdGVtKHNlY3Rpb25DYXJkLnJlbmRlckl0ZW1zKGl0ZW0pKTtcclxuICAgIH0pO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgfSk7XHJcblxyXG4vL0VuYWJsZSB2YWxpZGF0aW9uXHJcbmZvcm1FZGl0VmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuZm9ybUFkZFZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmZvcm1BdmF0YXJWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuLy9TZXQgZXZlbnQgbGlzdGVuZXJzXHJcbmJ1dHRvbkVkaXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBmaWxsUHJvZmlsZUlucHV0cyh1c2VySW5mby5nZXRVc2VySW5mbygpKTtcclxuICBwb3B1cEVkaXQub3BlbigpO1xyXG59KTtcclxuYXZhdGFyRWRpdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIHBvcHVwQXZhdGFyLm9wZW4oKTtcclxufSk7XHJcbmJ1dHRvbkFkZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gcG9wdXBBZGQub3BlbigpKTtcclxucG9wdXBJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5wb3B1cEVkaXQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxucG9wdXBBZGQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxucG9wdXBEZWxldGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxucG9wdXBBdmF0YXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuIiwiY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3Rvcih7IGJhc2VVUkwsIGhlYWRlcnMgfSkge1xyXG4gICAgdGhpcy5fYmFzZVVSTCA9IGJhc2VVUkw7XHJcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcclxuICB9XHJcblxyXG4gIGdldEN1cnJlbnRVc2VyKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5fYmFzZVVSTH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlQ3VycmVudFVzZXIoYm9keSkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5fYmFzZVVSTH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBib2R5LFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVDdXJyZW50QXZhdGFyKGJvZHkpIHtcclxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVUkx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IGJvZHksXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldEFsbENhcmRzKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5fYmFzZVVSTH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcG9zdENhcmQoYm9keSkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5fYmFzZVVSTH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IGJvZHksXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVVJMfS9jYXJkcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHV0TGlrZShjYXJkSWQpIHtcclxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVUkx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBkZWxldGVMaWtlKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5fYmFzZVVSTH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9yZXF1ZXN0KHVybCwgb3B0aW9ucykge1xyXG4gICAgcmV0dXJuIGZldGNoKHVybCwgb3B0aW9ucykudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIF9jaGVja1Jlc3BvbnNlKHJlcykge1xyXG4gICAgaWYgKHJlcy5vaykge1xyXG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgIH1cclxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICB9XHJcblxyXG4gIGdldEluaXRpYWxEYXRhKCkge1xyXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFt0aGlzLmdldEN1cnJlbnRVc2VyKCksIHRoaXMuZ2V0QWxsQ2FyZHMoKV0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHsgQXBpIH07XHJcbiIsImNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zKGl0ZW0pIHtcclxuICAgIHJldHVybiB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oZWxlbWVudCwgbWV0aG9kID0gXCJhcHBlbmRcIikge1xyXG4gICAgdGhpcy5fY29udGFpbmVyW21ldGhvZF0oZWxlbWVudCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBTZWN0aW9uIH07XHJcbiIsImNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih7IG5hbWVTZWxlY3RvciwgZGVzY3JpcHRpb25TZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IgfSkge1xyXG4gICAgdGhpcy5fbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2Rlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihkZXNjcmlwdGlvblNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2F2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LFxyXG4gICAgICBhYm91dDogdGhpcy5fZGVzY3JpcHRpb24udGV4dENvbnRlbnQsXHJcbiAgICAgIGF2YXRhcjogdGhpcy5fYXZhdGFyLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKGRhdGEpIHtcclxuICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XHJcbiAgICB0aGlzLl9kZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IGRhdGEuYWJvdXQ7XHJcbiAgICB0aGlzLl9hdmF0YXIuc3JjID0gZGF0YS5hdmF0YXI7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBVc2VySW5mbyB9O1xyXG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5jbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2ltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2VcIik7XHJcbiAgICB0aGlzLl9tb2RhbFRpdGxlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2UtdGl0bGVcIik7XHJcbiAgfVxyXG5cclxuICBvcGVuKGRhdGEpIHtcclxuICAgIHRoaXMuX2ltYWdlLnNyYyA9IGRhdGEuX2xpbms7XHJcbiAgICB0aGlzLl9pbWFnZS5hbHQgPSBkYXRhLl9uYW1lO1xyXG4gICAgdGhpcy5fbW9kYWxUaXRsZS50ZXh0Q29udGVudCA9IGRhdGEuX25hbWU7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBQb3B1cFdpdGhJbWFnZSB9O1xyXG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5jbGFzcyBQb3B1cERlbGV0ZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2NvbnRhaW5lclwiKTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gIH1cclxuXHJcbiAgZ2V0Q2FyZEluZm8oY2FyZCkge1xyXG4gICAgdGhpcy5fY2FyZCA9IGNhcmQ7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fY2FyZCk7XHJcbiAgICB9KTtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBQb3B1cERlbGV0ZSB9O1xyXG4iXSwibmFtZXMiOlsiRm9ybVZhbGlkYXRvciIsImNvbnN0cnVjdG9yIiwic2V0dGluZ3MiLCJmb3JtIiwidGhpcyIsIl9mb3JtU2VsZWN0b3IiLCJmb3JtU2VsZWN0b3IiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfZm9ybSIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiX2J1dHRvblN1Ym1pdCIsInF1ZXJ5U2VsZWN0b3IiLCJfc2V0RXZlbnRzTGlzdGVuZXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2dCIsInByZXZlbnREZWZhdWx0IiwiZm9yRWFjaCIsImlucHV0RWxlbWVudCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJpbnB1dExpc3QiLCJidXR0b25TdWJtaXQiLCJfaGFzSW52YWxpZElucHV0IiwiZGlzYWJsZUJ1dHRvbiIsImNsYXNzTGlzdCIsInJlbW92ZSIsImRpc2FibGVkIiwic29tZSIsImlucHV0IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiaWQiLCJhZGQiLCJ0ZXh0Q29udGVudCIsImVuYWJsZVZhbGlkYXRpb24iLCJDYXJkIiwiZGF0YSIsImNhcmRTZWxlY3RvciIsImhhbmRsZUltYWdlQ2xpY2siLCJoYW5kbGVEZWxldGVDbGljayIsInRvZ2dsZVNlcnZlckxpa2UiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfaWQiLCJpc0xpa2VkIiwiX3RlbXBsYXRlIiwiX2hhbmRsZUltYWdlQ2xpY2siLCJfbmV3Q2FyZCIsImRvY3VtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsIl9oYW5kbGVEZWxldGVDbGljayIsIl90b2dnbGVTZXJ2ZXJMaWtlIiwicmVuZGVyQ2FyZCIsIl9jYXJkSW1hZ2VFbGVtZW50IiwiX2NhcmROYW1lRWxlbWVudCIsIl9jYXJkTGlrZUVsZW1lbnQiLCJfY2FyZFRyYXNoRWxlbWVudCIsImFsdCIsInNyYyIsIl9zZXRFdmVudExpc3RlbmVycyIsInRvZ2dsZUxpa2UiLCJzdG9wUHJvcGFnYXRpb24iLCJkZWxldGVDYXJkIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwIiwiX2Nsb3NlQnV0dG9uIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsIm9wZW4iLCJjbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJrZXkiLCJzZXRFdmVudExpc3RlbmVycyIsInRhcmdldCIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0Iiwic3VwZXIiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9pbnB1dHMiLCJfc3VibWl0QnV0dG9uIiwiX29yaWdpbmFsVGV4dCIsIl9nZXRJbnB1dFZhbHVlcyIsImlucHV0VmFsdWVzIiwidmFsdWUiLCJyZW5kZXJMb2FkaW5nIiwiaXNMb2FkaW5nIiwidmFsaWRhdGlvblNldHRpbmdzIiwiYXBpIiwiX3JlZiIsImJhc2VVUkwiLCJoZWFkZXJzIiwiX2Jhc2VVUkwiLCJfaGVhZGVycyIsImdldEN1cnJlbnRVc2VyIiwiX3JlcXVlc3QiLCJtZXRob2QiLCJ1cGRhdGVDdXJyZW50VXNlciIsImJvZHkiLCJ1cGRhdGVDdXJyZW50QXZhdGFyIiwiZ2V0QWxsQ2FyZHMiLCJwb3N0Q2FyZCIsImNhcmRJZCIsInB1dExpa2UiLCJkZWxldGVMaWtlIiwidXJsIiwib3B0aW9ucyIsImZldGNoIiwidGhlbiIsIl9jaGVja1Jlc3BvbnNlIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImdldEluaXRpYWxEYXRhIiwiYWxsIiwiYXV0aG9yaXphdGlvbiIsImJ1dHRvbkVkaXQiLCJidXR0b25BZGQiLCJhdmF0YXJFZGl0Iiwic2VjdGlvbkNhcmQiLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX2NvbnRhaW5lciIsIl9yZW5kZXJlciIsInJlbmRlckl0ZW1zIiwiaXRlbSIsImFkZEl0ZW0iLCJlbGVtZW50IiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwidXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJkZXNjcmlwdGlvblNlbGVjdG9yIiwiYXZhdGFyU2VsZWN0b3IiLCJfZGVzY3JpcHRpb24iLCJfYXZhdGFyIiwiZ2V0VXNlckluZm8iLCJhYm91dCIsImF2YXRhciIsInNldFVzZXJJbmZvIiwicG9wdXBJbWFnZSIsIl9pbWFnZSIsIl9tb2RhbFRpdGxlIiwicG9wdXBFZGl0Iiwib2JqIiwiSlNPTiIsInN0cmluZ2lmeSIsImZvcm1FZGl0VmFsaWRhdG9yIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiZmluYWxseSIsInBvcHVwQWRkIiwicmVzZXQiLCJmb3JtQWRkVmFsaWRhdG9yIiwicG9wdXBBdmF0YXIiLCJwb3B1cERlbGV0ZSIsImdldENhcmRJbmZvIiwiY2FyZCIsIl9jYXJkIiwidGhpc0NhcmQiLCJmb3JtQXZhdGFyVmFsaWRhdG9yIiwidXNlclByb2ZpbGUiLCJ1c2VyQ2FyZHMiXSwic291cmNlUm9vdCI6IiJ9