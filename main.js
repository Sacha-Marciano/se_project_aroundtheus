!function(){"use strict";class e{constructor(e,t){this._formSelector=e.formSelector,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._form=t,this._inputList=Array.from(this._form.querySelectorAll(this._inputSelector)),this._buttonSubmit=this._form.querySelector(this._submitButtonSelector)}_setEventsListeners(){this._form.addEventListener("submit",(e=>{e.preventDefault()})),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(this._form,e,this._inputErrorClass,this._errorClass),this._toggleButtonState(this._inputList,this._buttonSubmit,this._inactiveButtonClass)}))}))}_toggleButtonState(e,t,s){this._hasInvalidInput(e)?this.disableButton():(t.classList.remove(s),t.disabled=!1)}_hasInvalidInput(e){return e.some((e=>!e.validity.valid))}_checkInputValidity(e,t,s,i){t.validity.valid?this._hideInputError(e,t,s,i):this._showInputError(e,t,t.validationMessage,s,i)}_showInputError(e,t,s,i,r){const n=e.querySelector(`.${t.id}-error`);t.classList.add(i),n.textContent=s,n.classList.add(r)}_hideInputError(e,t,s,i){const r=e.querySelector(`.${t.id}-error`);t.classList.remove(s),r.classList.remove(i),r.textContent=""}enableValidation(){this.disableButton(),this._setEventsListeners()}disableButton(){this._buttonSubmit.classList.add(this._inactiveButtonClass),this._buttonSubmit.disabled=!0}}class t{constructor(e,t,s,i,r){this._name=e.name,this._link=e.link,this.id=e._id,this.isLiked=e.isLiked,this._template=t,this._handleImageClick=s,this._newCard=document.querySelector(this._template).content.querySelector(".card").cloneNode(!0),this._handleDeleteClick=i,this._toggleServerLike=r}renderCard(){return this._cardImageElement=this._newCard.querySelector(".card__image"),this._cardNameElement=this._newCard.querySelector(".card__name"),this._cardLikeElement=this._newCard.querySelector(".card__like-button"),this._cardTrashElement=this._newCard.querySelector(".card__delete-button"),this._cardImageElement.alt=this._name,this._cardImageElement.src=this._link,this._cardNameElement.textContent=this._name,this._setEventListeners(),this.toggleLike(),this._newCard}_setEventListeners(){this._cardImageElement.addEventListener("click",(()=>{this._handleImageClick(this)})),this._cardLikeElement.addEventListener("click",(e=>{e.stopPropagation(),this._toggleServerLike(this)})),this._cardTrashElement.addEventListener("click",(e=>{e.stopPropagation(),this._handleDeleteClick(this)}))}toggleLike(){this.isLiked?this._cardLikeElement.classList.add("card__like-button_liked"):this._cardLikeElement.classList.remove("card__like-button_liked")}deleteCard(){this._newCard.remove()}}class s{constructor(e){this._popup=document.querySelector(e),this._closeButton=this._popup.querySelector(".modal__button_type_close"),this._handleEscClose=this._handleEscClose.bind(this)}open(){this._popup.classList.add("modal_opened"),document.addEventListener("keyup",this._handleEscClose)}close(){this._popup.classList.remove("modal_opened"),document.removeEventListener("keyup",this._handleEscClose)}_handleEscClose(e){"Escape"===e.key&&this.close()}setEventListeners(){this._closeButton.addEventListener("click",(()=>{this.close()})),this._popup.addEventListener("mousedown",(e=>{e.target===this._popup&&this.close()}))}}class i extends s{constructor(e,t){super(e),this.form=this._popup.querySelector(".modal__container"),this._handleFormSubmit=t,this._inputs=this.form.querySelectorAll(".modal__input"),this._submitButton=this.form.querySelector(".modal__button_type_submit"),this._originalText=this._submitButton.textContent}_getInputValues(){const e={};return this._inputs.forEach((t=>{e[t.name]=t.value})),e}setEventListeners(){this.form.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues(),this._submitButton)})),super.setEventListeners()}renderLoading(e,t){this._submitButton.textContent=e?t:this._originalText}}const r={formSelector:".modal__container",inputSelector:".modal__input",submitButtonSelector:".modal__button_type_submit",inactiveButtonClass:"modal__button_inactive",inputErrorClass:"modal__input_type_error",errorClass:"modal__input-error"},n=new class{constructor(e){let{baseURL:t,headers:s}=e;this._baseURL=t,this._headers=s}getCurrentUser(){return this._request(`${this._baseURL}/users/me`,{method:"GET",headers:this._headers})}updateCurrentUser(e){return this._request(`${this._baseURL}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})})}updateCurrentAvatar(e){return this._request(`${this._baseURL}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.link})})}getAllCards(){return this._request(`${this._baseURL}/cards`,{method:"GET",headers:this._headers})}postCard(e){return this._request(`${this._baseURL}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})})}deleteCard(e){return this._request(`${this._baseURL}/cards/${e}`,{method:"DELETE",headers:this._headers})}putLike(e){return this._request(`${this._baseURL}/cards/${e}/likes`,{method:"PUT",headers:this._headers})}deleteLike(e){return this._request(`${this._baseURL}/cards/${e}/likes`,{method:"DELETE",headers:this._headers})}_request(e,t){return fetch(e,t).then(this._checkResponse)}_checkResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}getInitialData(){return Promise.all([this.getCurrentUser(),this.getAllCards()])}}({baseURL:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"a50cd7e6-b371-411e-bfcd-861efcd7c545","Content-Type":"application/json"}}),o=document.querySelector(".profile__button_type_edit"),a=document.querySelector(".profile__button_type_add"),d=document.querySelector(".image__container"),l=new class{constructor(e,t){let{renderer:s}=e;this._container=document.querySelector(t),this._renderer=s}renderItems(e){e.forEach((e=>{const t=this._renderer(e);this.addItem(t)}))}addItem(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"append";this._container[t](e)}}({renderer:E},".cards__list"),h=new class{constructor(e){let{nameSelector:t,descriptionSelector:s,avatarSelector:i}=e;this._name=document.querySelector(t),this._description=document.querySelector(s),this._avatar=document.querySelector(i)}getUserInfo(){return{name:this._name.textContent,about:this._description.textContent,avatar:this._avatar}}setUserInfo(e){this._name.textContent=e.name,this._description.textContent=e.about,this._avatar.src=e.avatar}}({nameSelector:".profile__name",descriptionSelector:".profile__description",avatarSelector:".profile__image"}),u=new class extends s{constructor(e){super(e),this._image=this._popup.querySelector(".modal__image"),this._modalTitle=this._popup.querySelector(".modal__image-title")}open(e){this._image.src=e._link,this._image.alt=e._name,this._modalTitle.textContent=e._name,super.open()}}("#image-modal-id"),_=new i("#edit-modal-id",(function(e){f((function(){return n.updateCurrentUser(e).then((e=>{h.setUserInfo(e),L.disableButton()}))}),_)})),c=new i("#add-modal-id",(function(e){f((function(){return n.postCard(e).then((e=>{l.addItem(E(e),"prepend"),c.form.reset(),b.disableButton()}))}),c)})),m=new i("#avatar-modal-id",(function(e){f((function(){return n.updateCurrentAvatar(e).then((e=>{h.setUserInfo(e),m.form.reset(),v.disableButton()}))}),m)})),p=new class extends s{constructor(e,t){super(e),this.form=this._popup.querySelector(".modal__container"),this._handleFormSubmit=t,this._submitButton=this.form.querySelector(".modal__button_type_submit"),this._originalText=this._submitButton.textContent}getCardInfo(e){this._card=e}setEventListeners(){this.form.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._card)})),super.setEventListeners()}renderLoading(e,t){this._submitButton.textContent=e?t:this._originalText}}("#delete-modal-id",(function(e){f((function(){return n.deleteCard(e.id).then((()=>{e.deleteCard()}))}),p)})),L=new e(r,_.form),b=new e(r,c.form),v=new e(r,m.form);function E(e){return new t(e,"#card__template",g,C,S).renderCard()}function g(e){u.open(e)}function f(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Saving...";t.renderLoading(!0,s),e().then((()=>{t.close()})).catch(console.error).finally((()=>{t.renderLoading(!1)}))}function C(e){p.getCardInfo(e),p.open()}function S(e){e.isLiked?n.deleteLike(e.id).then((()=>{e.isLiked=!e.isLiked,e.toggleLike()})).catch((e=>{console.log(e)})):n.putLike(e.id).then((()=>{e.isLiked=!e.isLiked,e.toggleLike()})).catch((e=>{console.log(e)}))}n.getInitialData().then((e=>{let[t,s]=e;h.setUserInfo(t),l.renderItems(s)})).catch((e=>{console.log(e)})),L.enableValidation(),b.enableValidation(),v.enableValidation(),o.addEventListener("click",(()=>{var e;e=h.getUserInfo(),_.form.querySelector("#name-id").value=e.name,_.form.querySelector("#aboutMe-id").value=e.about,_.open()})),d.addEventListener("click",(()=>{m.open()})),a.addEventListener("click",(()=>c.open())),u.setEventListeners(),_.setEventListeners(),c.setEventListeners(),p.setEventListeners(),m.setEventListeners()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SCxRQUM3QjBILEVBQVN6RyxZQUFZLElBRXRCNEcsT0FBT0ksSUFDTkgsUUFBUUksSUFBSUQsRUFBSSxJQWpCcEJuRixFQUNHb0IsUUFBUXdELEVBQVN6SSxJQUNqQnNGLE1BQUssS0FDSm1ELEVBQVMxSCxTQUFXMEgsRUFBUzFILFFBQzdCMEgsRUFBU3pHLFlBQVksSUFFdEI0RyxPQUFPSSxJQUNOSCxRQUFRSSxJQUFJRCxFQUFJLEdBYXhCLENBV0FuRixFQUNHaUMsaUJBQ0FSLE1BQUt4QixJQUE4QixJQUE1Qm9GLEVBQWFDLEdBQVVyRixFQUM3Qm9ELEVBQVNPLFlBQVl5QixHQUNyQjlDLEVBQVlLLFlBQVkwQyxFQUFVLElBRW5DUCxPQUFPSSxJQUNOSCxRQUFRSSxJQUFJRCxFQUFJLElBSXBCakIsRUFBa0I1SCxtQkFDbEIrSCxFQUFpQi9ILG1CQUNqQmlJLEVBQW9CakksbUJBR3BCOEYsRUFBV3hILGlCQUFpQixTQUFTLEtBeEJyQyxJQUEyQjhGLElBeUJQMkMsRUFBU00sY0F4QjNCSyxFQUFVMUssS0FBS29CLGNBQWMsWUFBWWlGLE1BQVFlLEVBQUk1RCxLQUNyRGtILEVBQVUxSyxLQUFLb0IsY0FBYyxlQUFlaUYsTUFBUWUsRUFBSUksTUF3QnhEa0QsRUFBVXBGLE1BQU0sSUFFbEIwRCxFQUFXMUgsaUJBQWlCLFNBQVMsS0FDbkMwSixFQUFZMUYsTUFBTSxJQUVwQnlELEVBQVV6SCxpQkFBaUIsU0FBUyxJQUFNdUosRUFBU3ZGLFNBQ25EaUYsRUFBVzdFLG9CQUNYZ0YsRUFBVWhGLG9CQUNWbUYsRUFBU25GLG9CQUNUd0YsRUFBWXhGLG9CQUNac0YsRUFBWXRGLG1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy91dGlscy9BcGkuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBEZWxldGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGZvcm0pIHtcclxuICAgIHRoaXMuX2Zvcm1TZWxlY3RvciA9IHNldHRpbmdzLmZvcm1TZWxlY3RvcjtcclxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBzZXR0aW5ncy5pbnB1dFNlbGVjdG9yO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBzZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcclxuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBzZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IHNldHRpbmdzLmVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9mb3JtID0gZm9ybTtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20oXHJcbiAgICAgIHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKVxyXG4gICAgKTtcclxuICAgIHRoaXMuX2J1dHRvblN1Ym1pdCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRzTGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShcclxuICAgICAgICAgIHRoaXMuX2Zvcm0sXHJcbiAgICAgICAgICBpbnB1dEVsZW1lbnQsXHJcbiAgICAgICAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MsXHJcbiAgICAgICAgICB0aGlzLl9lcnJvckNsYXNzXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZShcclxuICAgICAgICAgIHRoaXMuX2lucHV0TGlzdCxcclxuICAgICAgICAgIHRoaXMuX2J1dHRvblN1Ym1pdCxcclxuICAgICAgICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3NcclxuICAgICAgICApO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uU3VibWl0LCBpbmFjdGl2ZUJ1dHRvbkNsYXNzKSB7XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkpIHtcclxuICAgICAgdGhpcy5kaXNhYmxlQnV0dG9uKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBidXR0b25TdWJtaXQuY2xhc3NMaXN0LnJlbW92ZShpbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgYnV0dG9uU3VibWl0LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkge1xyXG4gICAgcmV0dXJuIGlucHV0TGlzdC5zb21lKChpbnB1dCkgPT4ge1xyXG4gICAgICByZXR1cm4gIWlucHV0LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGZvcm0sIGlucHV0RWxlbWVudCwgaW5wdXRFcnJvckNsYXNzLCBlcnJvckNsYXNzKSB7XHJcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihcclxuICAgICAgICBmb3JtLFxyXG4gICAgICAgIGlucHV0RWxlbWVudCxcclxuICAgICAgICBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UsXHJcbiAgICAgICAgaW5wdXRFcnJvckNsYXNzLFxyXG4gICAgICAgIGVycm9yQ2xhc3NcclxuICAgICAgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGZvcm0sIGlucHV0RWxlbWVudCwgaW5wdXRFcnJvckNsYXNzLCBlcnJvckNsYXNzKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9zaG93SW5wdXRFcnJvcihcclxuICAgIGZvcm0sXHJcbiAgICBpbnB1dEVsZW1lbnQsXHJcbiAgICBlcnJvck1lc3NhZ2UsXHJcbiAgICBpbnB1dEVycm9yQ2xhc3MsXHJcbiAgICBlcnJvckNsYXNzXHJcbiAgKSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKGlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZChlcnJvckNsYXNzKTtcclxuICB9XHJcblxyXG4gIF9oaWRlSW5wdXRFcnJvcihmb3JtLCBpbnB1dEVsZW1lbnQsIGlucHV0RXJyb3JDbGFzcywgZXJyb3JDbGFzcykge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gZm9ybS5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShpbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoZXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gIH1cclxuXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuZGlzYWJsZUJ1dHRvbigpO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRzTGlzdGVuZXJzKCk7XHJcbiAgfVxyXG5cclxuICBkaXNhYmxlQnV0dG9uKCkge1xyXG4gICAgdGhpcy5fYnV0dG9uU3VibWl0LmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLl9idXR0b25TdWJtaXQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHsgRm9ybVZhbGlkYXRvciB9O1xyXG4iLCJjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIGRhdGEsXHJcbiAgICBjYXJkU2VsZWN0b3IsXHJcbiAgICBoYW5kbGVJbWFnZUNsaWNrLFxyXG4gICAgaGFuZGxlRGVsZXRlQ2xpY2ssXHJcbiAgICB0b2dnbGVTZXJ2ZXJMaWtlXHJcbiAgKSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuaWQgPSBkYXRhLl9pZDtcclxuICAgIHRoaXMuaXNMaWtlZCA9IGRhdGEuaXNMaWtlZDtcclxuICAgIHRoaXMuX3RlbXBsYXRlID0gY2FyZFNlbGVjdG9yO1xyXG4gICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayA9IGhhbmRsZUltYWdlQ2xpY2s7XHJcbiAgICB0aGlzLl9uZXdDYXJkID0gZG9jdW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGVtcGxhdGUpXHJcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxyXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sgPSBoYW5kbGVEZWxldGVDbGljaztcclxuICAgIHRoaXMuX3RvZ2dsZVNlcnZlckxpa2UgPSB0b2dnbGVTZXJ2ZXJMaWtlO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyQ2FyZCgpIHtcclxuICAgIHRoaXMuX2NhcmRJbWFnZUVsZW1lbnQgPSB0aGlzLl9uZXdDYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XHJcbiAgICB0aGlzLl9jYXJkTmFtZUVsZW1lbnQgPSB0aGlzLl9uZXdDYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbmFtZVwiKTtcclxuICAgIHRoaXMuX2NhcmRMaWtlRWxlbWVudCA9IHRoaXMuX25ld0NhcmQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKTtcclxuICAgIHRoaXMuX2NhcmRUcmFzaEVsZW1lbnQgPSB0aGlzLl9uZXdDYXJkLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLmNhcmRfX2RlbGV0ZS1idXR0b25cIlxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbGVtZW50LmFsdCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbGVtZW50LnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl9jYXJkTmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG5cclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLnRvZ2dsZUxpa2UoKTtcclxuICAgIHJldHVybiB0aGlzLl9uZXdDYXJkO1xyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fY2FyZEltYWdlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrKHRoaXMpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fY2FyZExpa2VFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgdGhpcy5fdG9nZ2xlU2VydmVyTGlrZSh0aGlzKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2NhcmRUcmFzaEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljayh0aGlzKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgdG9nZ2xlTGlrZSgpIHtcclxuICAgIGlmICh0aGlzLmlzTGlrZWQpIHtcclxuICAgICAgdGhpcy5fY2FyZExpa2VFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJjYXJkX19saWtlLWJ1dHRvbl9saWtlZFwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2NhcmRMaWtlRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiY2FyZF9fbGlrZS1idXR0b25fbGlrZWRcIik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBkZWxldGVDYXJkKCkge1xyXG4gICAgdGhpcy5fbmV3Q2FyZC5yZW1vdmUoKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IENhcmQgfTtcclxuIiwiY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2Nsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYnV0dG9uX3R5cGVfY2xvc2VcIik7XHJcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xyXG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9jbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2dCkgPT4ge1xyXG4gICAgICBpZiAoZXZ0LnRhcmdldCA9PT0gdGhpcy5fcG9wdXApIHtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHsgUG9wdXAgfTtcclxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2NvbnRhaW5lclwiKTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgdGhpcy5faW5wdXRzID0gdGhpcy5mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX2lucHV0XCIpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5mb3JtLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2J1dHRvbl90eXBlX3N1Ym1pdFwiKTtcclxuICAgIHRoaXMuX29yaWdpbmFsVGV4dCA9IHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudDtcclxuICB9XHJcblxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIGNvbnN0IGlucHV0VmFsdWVzID0ge307XHJcbiAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgaW5wdXRWYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGlucHV0VmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLmZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCksIHRoaXMuX3N1Ym1pdEJ1dHRvbik7XHJcbiAgICB9KTtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG5cclxuICByZW5kZXJMb2FkaW5nKGlzTG9hZGluZywgbG9hZGluZ1RleHQpIHtcclxuICAgIGlmIChpc0xvYWRpbmcpIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gbG9hZGluZ1RleHQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl9vcmlnaW5hbFRleHQ7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBQb3B1cFdpdGhGb3JtIH07XHJcbiIsImNvbnN0IHVzZXJTZXR0aW5ncyA9IHtcclxuICBuYW1lU2VsZWN0b3I6IFwiLnByb2ZpbGVfX25hbWVcIixcclxuICBkZXNjcmlwdGlvblNlbGVjdG9yOiBcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiLFxyXG4gIGF2YXRhclNlbGVjdG9yOiBcIi5wcm9maWxlX19pbWFnZVwiLFxyXG59O1xyXG5cclxuY29uc3QgdmFsaWRhdGlvblNldHRpbmdzID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogXCIubW9kYWxfX2NvbnRhaW5lclwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fYnV0dG9uX3R5cGVfc3VibWl0XCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fYnV0dG9uX2luYWN0aXZlXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF90eXBlX2Vycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXQtZXJyb3JcIixcclxufTtcclxuXHJcbmV4cG9ydCB7IHZhbGlkYXRpb25TZXR0aW5ncywgdXNlclNldHRpbmdzIH07XHJcbiIsIi8vSW1wb3J0IHN0eWxlc1xyXG5pbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5cclxuLy9JbXBvcnQgY2xhc3Nlcywgc2V0dGluZ3MgYW5kIEFQSVxyXG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgeyBDYXJkIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgeyBTZWN0aW9uIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgeyBVc2VySW5mbyB9IGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCB7IFBvcHVwV2l0aEltYWdlIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IHsgUG9wdXBXaXRoRm9ybSB9IGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IHsgUG9wdXBEZWxldGUgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cERlbGV0ZS5qc1wiO1xyXG5pbXBvcnQgeyB2YWxpZGF0aW9uU2V0dGluZ3MsIHVzZXJTZXR0aW5ncyB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuaW1wb3J0IHsgQXBpIH0gZnJvbSBcIi4uL3V0aWxzL0FwaS5qc1wiO1xyXG5cclxuLy9DcmVhdGUgQVBJXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gIGJhc2VVUkw6IFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjFcIixcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiBcImE1MGNkN2U2LWIzNzEtNDExZS1iZmNkLTg2MWVmY2Q3YzU0NVwiLFxyXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgfSxcclxufSk7XHJcblxyXG4vL1NlbGVjdGluZyBlbGVtZW50c1xyXG5jb25zdCBidXR0b25FZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19idXR0b25fdHlwZV9lZGl0XCIpO1xyXG5jb25zdCBidXR0b25BZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2J1dHRvbl90eXBlX2FkZFwiKTtcclxuY29uc3QgYXZhdGFyRWRpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaW1hZ2VfX2NvbnRhaW5lclwiKTtcclxuXHJcbi8vQ3JlYXRlIHNlY3Rpb25DYXJkIGNsYXNzXHJcbmNvbnN0IHNlY3Rpb25DYXJkID0gbmV3IFNlY3Rpb24oeyByZW5kZXJlcjogY3JlYXRlQ2FyZCB9LCBcIi5jYXJkc19fbGlzdFwiKTtcclxuXHJcbi8vQ3JlYXRlIFVzZXJJbmZvIGNsYXNzXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHVzZXJTZXR0aW5ncyk7XHJcblxyXG4vL0NyZWF0ZSBwb3B1cHMgY2xhc3NlcyBhbmQgc2V0IGV2ZW50IGxpc3RlbmVyc1xyXG5jb25zdCBwb3B1cEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiI2ltYWdlLW1vZGFsLWlkXCIpO1xyXG5jb25zdCBwb3B1cEVkaXQgPSBuZXcgUG9wdXBXaXRoRm9ybShcIiNlZGl0LW1vZGFsLWlkXCIsIGhhbmRsZUVkaXRTdW1iaXQpO1xyXG5jb25zdCBwb3B1cEFkZCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI2FkZC1tb2RhbC1pZFwiLCBoYW5kbGVBZGRTdW1iaXQpO1xyXG5jb25zdCBwb3B1cEF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI2F2YXRhci1tb2RhbC1pZFwiLCBoYW5kbGVBdmF0YXJTdWJtaXQpO1xyXG5jb25zdCBwb3B1cERlbGV0ZSA9IG5ldyBQb3B1cERlbGV0ZShcIiNkZWxldGUtbW9kYWwtaWRcIiwgaGFuZGxlRGVsZXRlU3VibWl0KTtcclxuXHJcbi8vQ3JlYXRlIHZhbGlkYXRvcnNcclxuY29uc3QgZm9ybUVkaXRWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uU2V0dGluZ3MsIHBvcHVwRWRpdC5mb3JtKTtcclxuY29uc3QgZm9ybUFkZFZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25TZXR0aW5ncywgcG9wdXBBZGQuZm9ybSk7XHJcbmNvbnN0IGZvcm1BdmF0YXJWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcclxuICB2YWxpZGF0aW9uU2V0dGluZ3MsXHJcbiAgcG9wdXBBdmF0YXIuZm9ybVxyXG4pO1xyXG5cclxuLy9IYW5kbGVycyBmb3IgY2xhc3Nlc1xyXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGl0ZW0pIHtcclxuICBjb25zdCBjYXJkRWxlbWVudCA9IG5ldyBDYXJkKFxyXG4gICAgaXRlbSxcclxuICAgIFwiI2NhcmRfX3RlbXBsYXRlXCIsXHJcbiAgICBoYW5kbGVJbWFnZUNsaWNrLFxyXG4gICAgaGFuZGxlRGVsZXRlQ2xpY2ssXHJcbiAgICB0b2dnbGVTZXJ2ZXJMaWtlXHJcbiAgKTtcclxuICByZXR1cm4gY2FyZEVsZW1lbnQucmVuZGVyQ2FyZCgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVJbWFnZUNsaWNrKGRhdGEpIHtcclxuICBwb3B1cEltYWdlLm9wZW4oZGF0YSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZVN1Ym1pdHMocmVxdWVzdCwgcG9wdXAsIGxvYWRpbmdUZXh0ID0gXCJTYXZpbmcuLi5cIikge1xyXG4gIHBvcHVwLnJlbmRlckxvYWRpbmcodHJ1ZSwgbG9hZGluZ1RleHQpO1xyXG4gIHJlcXVlc3QoKVxyXG4gICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICBwb3B1cC5jbG9zZSgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaChjb25zb2xlLmVycm9yKVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICBwb3B1cC5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVFZGl0U3VtYml0KG9iaikge1xyXG4gIGZ1bmN0aW9uIG1ha2VSZXF1ZXN0KCkge1xyXG4gICAgcmV0dXJuIGFwaS51cGRhdGVDdXJyZW50VXNlcihvYmopLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oZGF0YSk7XHJcbiAgICAgIGZvcm1FZGl0VmFsaWRhdG9yLmRpc2FibGVCdXR0b24oKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlU3VibWl0cyhtYWtlUmVxdWVzdCwgcG9wdXBFZGl0KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlQWRkU3VtYml0KG9iaikge1xyXG4gIGZ1bmN0aW9uIG1ha2VSZXF1ZXN0KCkge1xyXG4gICAgcmV0dXJuIGFwaS5wb3N0Q2FyZChvYmopLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgc2VjdGlvbkNhcmQuYWRkSXRlbShjcmVhdGVDYXJkKGRhdGEpLCBcInByZXBlbmRcIik7XHJcbiAgICAgIHBvcHVwQWRkLmZvcm0ucmVzZXQoKTtcclxuICAgICAgZm9ybUFkZFZhbGlkYXRvci5kaXNhYmxlQnV0dG9uKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGhhbmRsZVN1Ym1pdHMobWFrZVJlcXVlc3QsIHBvcHVwQWRkKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlU3VibWl0KHRoaXNDYXJkKSB7XHJcbiAgZnVuY3Rpb24gbWFrZVJlcXVlc3QoKSB7XHJcbiAgICByZXR1cm4gYXBpLmRlbGV0ZUNhcmQodGhpc0NhcmQuaWQpLnRoZW4oKCkgPT4ge1xyXG4gICAgICB0aGlzQ2FyZC5kZWxldGVDYXJkKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGhhbmRsZVN1Ym1pdHMobWFrZVJlcXVlc3QsIHBvcHVwRGVsZXRlKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlQXZhdGFyU3VibWl0KG9iaikge1xyXG4gIGZ1bmN0aW9uIG1ha2VSZXF1ZXN0KCkge1xyXG4gICAgcmV0dXJuIGFwaS51cGRhdGVDdXJyZW50QXZhdGFyKG9iaikudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhkYXRhKTtcclxuICAgICAgcG9wdXBBdmF0YXIuZm9ybS5yZXNldCgpO1xyXG4gICAgICBmb3JtQXZhdGFyVmFsaWRhdG9yLmRpc2FibGVCdXR0b24oKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlU3VibWl0cyhtYWtlUmVxdWVzdCwgcG9wdXBBdmF0YXIpO1xyXG59XHJcblxyXG4vL1NlbmRzIGNsaWNrIGV2ZW50IGNhcmQncyBkYXRhIHRvIHBvcHVwRGVsZXRlXHJcbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNsaWNrKHRoaXNDYXJkKSB7XHJcbiAgcG9wdXBEZWxldGUuZ2V0Q2FyZEluZm8odGhpc0NhcmQpO1xyXG4gIHBvcHVwRGVsZXRlLm9wZW4oKTtcclxufVxyXG5cclxuLy9DaGVjayBzdGF0ZSBvZiBpc0xpa2VkIGluIHRoZSBzZXJ2ZXIgYW5kIHRvZ2dsZSBsaWtlIHN0YXRlIGluIHRoZSBBUElcclxuZnVuY3Rpb24gdG9nZ2xlU2VydmVyTGlrZSh0aGlzQ2FyZCkge1xyXG4gIGlmICghdGhpc0NhcmQuaXNMaWtlZCkge1xyXG4gICAgYXBpXHJcbiAgICAgIC5wdXRMaWtlKHRoaXNDYXJkLmlkKVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgdGhpc0NhcmQuaXNMaWtlZCA9ICF0aGlzQ2FyZC5pc0xpa2VkO1xyXG4gICAgICAgIHRoaXNDYXJkLnRvZ2dsZUxpa2UoKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgYXBpXHJcbiAgICAgIC5kZWxldGVMaWtlKHRoaXNDYXJkLmlkKVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgdGhpc0NhcmQuaXNMaWtlZCA9ICF0aGlzQ2FyZC5pc0xpa2VkO1xyXG4gICAgICAgIHRoaXNDYXJkLnRvZ2dsZUxpa2UoKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbi8vRmlsbHMgZWRpdCBwb3B1cCBpbnB1dHMgYWNjb3JkaW5nIHRvIHByb2ZpbGUgaW5mb1xyXG5mdW5jdGlvbiBmaWxsUHJvZmlsZUlucHV0cyhvYmopIHtcclxuICBwb3B1cEVkaXQuZm9ybS5xdWVyeVNlbGVjdG9yKFwiI25hbWUtaWRcIikudmFsdWUgPSBvYmoubmFtZTtcclxuICBwb3B1cEVkaXQuZm9ybS5xdWVyeVNlbGVjdG9yKFwiI2Fib3V0TWUtaWRcIikudmFsdWUgPSBvYmouYWJvdXQ7XHJcbn1cclxuXHJcbi8vICAgICAgICAgICAgICAgTE9BRElORy9SRUZSRVNIICAgICAgICAgICAgICAgICAgIC8vXHJcblxyXG4vL0NoZWNrIHRoYXQgYm90aCByZXF1ZXN0IGFyZSBmdWxmaWxsZWQsIHRoZW4gYWRkIGluZm8gYW5kIGNhcmRzIGZyb20gQVBJIHRvIGRpc3BsYXlcclxuYXBpXHJcbiAgLmdldEluaXRpYWxEYXRhKClcclxuICAudGhlbigoW3VzZXJQcm9maWxlLCB1c2VyQ2FyZHNdKSA9PiB7XHJcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyh1c2VyUHJvZmlsZSk7XHJcbiAgICBzZWN0aW9uQ2FyZC5yZW5kZXJJdGVtcyh1c2VyQ2FyZHMpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgfSk7XHJcblxyXG4vL0VuYWJsZSB2YWxpZGF0aW9uXHJcbmZvcm1FZGl0VmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuZm9ybUFkZFZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmZvcm1BdmF0YXJWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuLy9TZXQgZXZlbnQgbGlzdGVuZXJzXHJcbmJ1dHRvbkVkaXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBmaWxsUHJvZmlsZUlucHV0cyh1c2VySW5mby5nZXRVc2VySW5mbygpKTtcclxuICBwb3B1cEVkaXQub3BlbigpO1xyXG59KTtcclxuYXZhdGFyRWRpdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIHBvcHVwQXZhdGFyLm9wZW4oKTtcclxufSk7XHJcbmJ1dHRvbkFkZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gcG9wdXBBZGQub3BlbigpKTtcclxucG9wdXBJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5wb3B1cEVkaXQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxucG9wdXBBZGQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxucG9wdXBEZWxldGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxucG9wdXBBdmF0YXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuIiwiY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3Rvcih7IGJhc2VVUkwsIGhlYWRlcnMgfSkge1xyXG4gICAgdGhpcy5fYmFzZVVSTCA9IGJhc2VVUkw7XHJcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcclxuICB9XHJcblxyXG4gIGdldEN1cnJlbnRVc2VyKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5fYmFzZVVSTH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlQ3VycmVudFVzZXIob2JqKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVVJMfS91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBvYmoubmFtZSxcclxuICAgICAgICBhYm91dDogb2JqLmFib3V0LFxyXG4gICAgICB9KSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlQ3VycmVudEF2YXRhcihvYmopIHtcclxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVUkx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBhdmF0YXI6IG9iai5saW5rLFxyXG4gICAgICB9KSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZ2V0QWxsQ2FyZHMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVVJMfS9jYXJkc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwb3N0Q2FyZChvYmopIHtcclxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVUkx9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogb2JqLm5hbWUsXHJcbiAgICAgICAgbGluazogb2JqLmxpbmssXHJcbiAgICAgIH0pLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBkZWxldGVDYXJkKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5fYmFzZVVSTH0vY2FyZHMvJHtjYXJkSWR9YCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHB1dExpa2UoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVVJMfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlTGlrZShjYXJkSWQpIHtcclxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVUkx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfcmVxdWVzdCh1cmwsIG9wdGlvbnMpIHtcclxuICAgIHJldHVybiBmZXRjaCh1cmwsIG9wdGlvbnMpLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tSZXNwb25zZShyZXMpIHtcclxuICAgIGlmIChyZXMub2spIHtcclxuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgfVxyXG5cclxuICBnZXRJbml0aWFsRGF0YSgpIHtcclxuICAgIHJldHVybiBQcm9taXNlLmFsbChbdGhpcy5nZXRDdXJyZW50VXNlcigpLCB0aGlzLmdldEFsbENhcmRzKCldKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IEFwaSB9O1xyXG4iLCJjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgfVxyXG5cclxuICByZW5kZXJJdGVtcyhpdGVtcykge1xyXG4gICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICAgIHRoaXMuYWRkSXRlbShlbGVtZW50KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbShlbGVtZW50LCBtZXRob2QgPSBcImFwcGVuZFwiKSB7XHJcbiAgICB0aGlzLl9jb250YWluZXJbbWV0aG9kXShlbGVtZW50KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IFNlY3Rpb24gfTtcclxuIiwiY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHsgbmFtZVNlbGVjdG9yLCBkZXNjcmlwdGlvblNlbGVjdG9yLCBhdmF0YXJTZWxlY3RvciB9KSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fZGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGRlc2NyaXB0aW9uU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fYXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXJTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIG5hbWU6IHRoaXMuX25hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgIGFib3V0OiB0aGlzLl9kZXNjcmlwdGlvbi50ZXh0Q29udGVudCxcclxuICAgICAgYXZhdGFyOiB0aGlzLl9hdmF0YXIsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8oZGF0YSkge1xyXG4gICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuX2Rlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gZGF0YS5hYm91dDtcclxuICAgIHRoaXMuX2F2YXRhci5zcmMgPSBkYXRhLmF2YXRhcjtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IFVzZXJJbmZvIH07XHJcbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZVwiKTtcclxuICAgIHRoaXMuX21vZGFsVGl0bGUgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZS10aXRsZVwiKTtcclxuICB9XHJcblxyXG4gIG9wZW4oZGF0YSkge1xyXG4gICAgdGhpcy5faW1hZ2Uuc3JjID0gZGF0YS5fbGluaztcclxuICAgIHRoaXMuX2ltYWdlLmFsdCA9IGRhdGEuX25hbWU7XHJcbiAgICB0aGlzLl9tb2RhbFRpdGxlLnRleHRDb250ZW50ID0gZGF0YS5fbmFtZTtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IFBvcHVwV2l0aEltYWdlIH07XHJcbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmNsYXNzIFBvcHVwRGVsZXRlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY29udGFpbmVyXCIpO1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLmZvcm0ucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYnV0dG9uX3R5cGVfc3VibWl0XCIpO1xyXG4gICAgdGhpcy5fb3JpZ2luYWxUZXh0ID0gdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50O1xyXG4gIH1cclxuXHJcbiAgZ2V0Q2FyZEluZm8oY2FyZCkge1xyXG4gICAgdGhpcy5fY2FyZCA9IGNhcmQ7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fY2FyZCk7XHJcbiAgICB9KTtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG5cclxuICByZW5kZXJMb2FkaW5nKGlzTG9hZGluZywgbG9hZGluZ1RleHQpIHtcclxuICAgIGlmIChpc0xvYWRpbmcpIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gbG9hZGluZ1RleHQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl9vcmlnaW5hbFRleHQ7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBQb3B1cERlbGV0ZSB9O1xyXG4iXSwibmFtZXMiOlsiRm9ybVZhbGlkYXRvciIsImNvbnN0cnVjdG9yIiwic2V0dGluZ3MiLCJmb3JtIiwidGhpcyIsIl9mb3JtU2VsZWN0b3IiLCJmb3JtU2VsZWN0b3IiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfZm9ybSIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiX2J1dHRvblN1Ym1pdCIsInF1ZXJ5U2VsZWN0b3IiLCJfc2V0RXZlbnRzTGlzdGVuZXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2dCIsInByZXZlbnREZWZhdWx0IiwiZm9yRWFjaCIsImlucHV0RWxlbWVudCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJpbnB1dExpc3QiLCJidXR0b25TdWJtaXQiLCJfaGFzSW52YWxpZElucHV0IiwiZGlzYWJsZUJ1dHRvbiIsImNsYXNzTGlzdCIsInJlbW92ZSIsImRpc2FibGVkIiwic29tZSIsImlucHV0IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiaWQiLCJhZGQiLCJ0ZXh0Q29udGVudCIsImVuYWJsZVZhbGlkYXRpb24iLCJDYXJkIiwiZGF0YSIsImNhcmRTZWxlY3RvciIsImhhbmRsZUltYWdlQ2xpY2siLCJoYW5kbGVEZWxldGVDbGljayIsInRvZ2dsZVNlcnZlckxpa2UiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfaWQiLCJpc0xpa2VkIiwiX3RlbXBsYXRlIiwiX2hhbmRsZUltYWdlQ2xpY2siLCJfbmV3Q2FyZCIsImRvY3VtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsIl9oYW5kbGVEZWxldGVDbGljayIsIl90b2dnbGVTZXJ2ZXJMaWtlIiwicmVuZGVyQ2FyZCIsIl9jYXJkSW1hZ2VFbGVtZW50IiwiX2NhcmROYW1lRWxlbWVudCIsIl9jYXJkTGlrZUVsZW1lbnQiLCJfY2FyZFRyYXNoRWxlbWVudCIsImFsdCIsInNyYyIsIl9zZXRFdmVudExpc3RlbmVycyIsInRvZ2dsZUxpa2UiLCJzdG9wUHJvcGFnYXRpb24iLCJkZWxldGVDYXJkIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwIiwiX2Nsb3NlQnV0dG9uIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsIm9wZW4iLCJjbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJrZXkiLCJzZXRFdmVudExpc3RlbmVycyIsInRhcmdldCIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0Iiwic3VwZXIiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9pbnB1dHMiLCJfc3VibWl0QnV0dG9uIiwiX29yaWdpbmFsVGV4dCIsIl9nZXRJbnB1dFZhbHVlcyIsImlucHV0VmFsdWVzIiwidmFsdWUiLCJyZW5kZXJMb2FkaW5nIiwiaXNMb2FkaW5nIiwibG9hZGluZ1RleHQiLCJ2YWxpZGF0aW9uU2V0dGluZ3MiLCJhcGkiLCJfcmVmIiwiYmFzZVVSTCIsImhlYWRlcnMiLCJfYmFzZVVSTCIsIl9oZWFkZXJzIiwiZ2V0Q3VycmVudFVzZXIiLCJfcmVxdWVzdCIsIm1ldGhvZCIsInVwZGF0ZUN1cnJlbnRVc2VyIiwib2JqIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhYm91dCIsInVwZGF0ZUN1cnJlbnRBdmF0YXIiLCJhdmF0YXIiLCJnZXRBbGxDYXJkcyIsInBvc3RDYXJkIiwiY2FyZElkIiwicHV0TGlrZSIsImRlbGV0ZUxpa2UiLCJ1cmwiLCJvcHRpb25zIiwiZmV0Y2giLCJ0aGVuIiwiX2NoZWNrUmVzcG9uc2UiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZ2V0SW5pdGlhbERhdGEiLCJhbGwiLCJhdXRob3JpemF0aW9uIiwiYnV0dG9uRWRpdCIsImJ1dHRvbkFkZCIsImF2YXRhckVkaXQiLCJzZWN0aW9uQ2FyZCIsImNvbnRhaW5lclNlbGVjdG9yIiwicmVuZGVyZXIiLCJfY29udGFpbmVyIiwiX3JlbmRlcmVyIiwicmVuZGVySXRlbXMiLCJpdGVtcyIsIml0ZW0iLCJlbGVtZW50IiwiYWRkSXRlbSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImNyZWF0ZUNhcmQiLCJ1c2VySW5mbyIsIm5hbWVTZWxlY3RvciIsImRlc2NyaXB0aW9uU2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl9kZXNjcmlwdGlvbiIsIl9hdmF0YXIiLCJnZXRVc2VySW5mbyIsInNldFVzZXJJbmZvIiwicG9wdXBJbWFnZSIsIl9pbWFnZSIsIl9tb2RhbFRpdGxlIiwicG9wdXBFZGl0IiwiaGFuZGxlU3VibWl0cyIsImZvcm1FZGl0VmFsaWRhdG9yIiwicG9wdXBBZGQiLCJyZXNldCIsImZvcm1BZGRWYWxpZGF0b3IiLCJwb3B1cEF2YXRhciIsImZvcm1BdmF0YXJWYWxpZGF0b3IiLCJwb3B1cERlbGV0ZSIsImdldENhcmRJbmZvIiwiY2FyZCIsIl9jYXJkIiwidGhpc0NhcmQiLCJyZXF1ZXN0IiwicG9wdXAiLCJjYXRjaCIsImNvbnNvbGUiLCJlcnJvciIsImZpbmFsbHkiLCJlcnIiLCJsb2ciLCJ1c2VyUHJvZmlsZSIsInVzZXJDYXJkcyJdLCJzb3VyY2VSb290IjoiIn0=